(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{cfRG:function(e,a,t){"use strict";t.r(a);var r=t("o0o1"),n=t.n(r),i=(t("ls82"),t("HaE+")),c=t("q1tI"),l=t.n(c),o=t("yA36"),s=t("Seah"),u=t("AF0L"),m=t("1YeJ"),d=t("izhR"),f=t("QNvf"),g=function(e){var a=e.variant,t=e.state.state,r=e.onSubmit,n=e.onBack,i=Object(f.useIntl)().formatMessage,o=Object(c.useRef)(null);return l.a.createElement(l.a.Fragment,null,l.a.createElement(d.d,{variant:a+".title"},i({id:"login.page.emailVerification.accessCodeForm.title",defaultMessage:"Enter the access code sent to your e-mail"})),l.a.createElement(d.d,{as:"form",onSubmit:function(e){var a,t;e.preventDefault(),r(null!==(a=null===(t=o.current)||void 0===t?void 0:t.value)&&void 0!==a?a:"")},variant:a},l.a.createElement(d.m,{ref:o,type:"text",name:"code",id:"code",placeholder:i({id:"login.page.emailVerification.accessCodeForm.codePlaceholder",defaultMessage:"Add your access code"})}),"accessCodeForm.invalidAccessCode"===t&&l.a.createElement(d.a,{variant:"signInDanger"},i({id:"login.page.emailVerification.accessCodeForm.invalidAccessCode",defaultMessage:"Insert a valid 6-digit access code"})),"accessCodeForm.authError"===t&&l.a.createElement(d.a,{variant:"signInDanger"},i({id:"login.page.emailVerification.accessCodeForm.authError",defaultMessage:"Something went wrong with your access code. Please recheck it and try again"})),l.a.createElement(d.e,null,i({id:"login.page.emailVerification.accessCodeForm.submitButton",defaultMessage:"Confirm"}))),l.a.createElement(d.e,{onClick:function(e){e.preventDefault(),n()}},i({id:"login.page.emailVerification.accessCodeForm.backButton",defaultMessage:"Back"})))},p=function(e){var a=e.variant,t=e.state.state,r=e.onSubmit,n=Object(f.useIntl)().formatMessage,i=Object(c.useRef)(null);return l.a.createElement(l.a.Fragment,null,l.a.createElement(d.d,{variant:a+".title"},n({id:"login.page.emailVerification.emailForm.title",defaultMessage:"Receive access code by e-mail"})),l.a.createElement(d.d,{as:"form",onSubmit:function(e){var a,t;e.preventDefault(),r(null!==(a=null===(t=i.current)||void 0===t?void 0:t.value)&&void 0!==a?a:"")},variant:a},l.a.createElement(d.m,{ref:i,type:"email",name:"email",id:"email",placeholder:n({id:"login.page.emailVerification.emailForm.emailPlaceholder",defaultMessage:"Add your email"})}),"emailForm.invalidEmailInput"===t&&l.a.createElement(d.a,{variant:"signInDanger"},n({id:"login.page.emailVerification.emailForm.invalidEmailInput",defaultMessage:"Please insert a valid email"})),"emailForm.authError"===t&&l.a.createElement(d.a,{variant:"signInDanger"},n({id:"login.page.emailVerification.emailForm.error",defaultMessage:"Something went wrong, please try again later"})),l.a.createElement(d.e,null,n({id:"login.page.emailVerification.emailForm.submitButton",defaultMessage:"Send"}))))},v=function(e,a){switch(a.type){case"accessCodeForm":return Object.assign({},e,{state:"accessCodeForm",email:a.email});default:return Object.assign({},e,{state:a.type})}};a.default=function(e){var a=e.variant,t=e.returnUrl,r=Object(c.useReducer)(v,{state:"emailForm"}),d=r[0],f=r[1],b=Object(s.a)(),F=Object(u.a)(),E="emailVerification."+a;return d.state.startsWith("emailForm")?l.a.createElement(p,{state:d,variant:E,onSubmit:function(){var e=Object(i.a)(n.a.mark((function e(a){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(m.b)(a)){e.next=3;break}return f({type:"emailForm.invalidEmailInput"}),e.abrupt("return");case 3:return e.prev=3,e.next=6,F({user:a});case 6:return e.next=8,Object(o.a)({email:a});case 8:f({type:"accessCodeForm",email:a}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),f({type:"emailForm.authError"});case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(a){return e.apply(this,arguments)}}()}):l.a.createElement(g,{state:d,variant:E,onBack:function(){return f({type:"emailForm"})},onSubmit:function(){var e=Object(i.a)(n.a.mark((function e(a){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=d.email,Object(m.a)(a)){e.next=4;break}return f({type:"accessCodeForm.invalidAccessCode"}),e.abrupt("return");case 4:if(r){e.next=7;break}return f({type:"emailForm.invalidEmailInput"}),e.abrupt("return");case 7:return e.prev=7,e.next=10,Object(o.c)({accessKey:a,login:r});case 10:b(t),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(7),f({type:"accessCodeForm.authError"});case 16:case"end":return e.stop()}}),e,null,[[7,13]])})));return function(a){return e.apply(this,arguments)}}()})}}}]);
//# sourceMappingURL=38-31fda67d54f9f3f1e986.js.map