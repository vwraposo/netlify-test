(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{aHuf:function(e,a,n){"use strict";n.r(a);var t=n("o0o1"),r=n.n(t),i=(n("ls82"),n("HaE+")),s=n("q1tI"),o=n.n(s),l=n("yA36"),d=n("+PP0"),m=n("Seah"),u=n("AF0L"),c=n("1YeJ"),g=n("izhR"),p=n("QNvf"),v=function(e){var a=e.variant,n=e.state.state,t=e.onSubmit,r=e.onBack,i=Object(p.useIntl)().formatMessage,l=Object(s.useRef)(null);return o.a.createElement(o.a.Fragment,null,o.a.createElement(g.d,{variant:a+".title"},i({id:"login.page.emailAndPassword.emailForm.title",defaultMessage:"Receive access code by e-mail"})),o.a.createElement(g.d,{as:"form",onSubmit:function(e){var a,n;e.preventDefault(),t(null!==(a=null===(n=l.current)||void 0===n?void 0:n.value)&&void 0!==a?a:"")},variant:a},o.a.createElement(g.m,{ref:l,type:"email",name:"email",id:"email",placeholder:i({id:"login.page.emailAndPassword.emailForm.emailPlaceholder",defaultMessage:"Add your email"})}),"emailForm.invalidEmailInput"===n&&o.a.createElement(g.a,{variant:"signInDanger"},i({id:"login.page.emailAndPassword.emailForm.invalidEmailInput",defaultMessage:"Please insert a valid email"})),"emailForm.error"===n&&o.a.createElement(g.a,{variant:"signInDanger"},i({id:"login.page.emailAndPassword.emailForm.error",defaultMessage:"Something went wrong, please try again later"})),o.a.createElement(g.e,null,i({id:"login.page.emailAndPassword.emailForm.submitButton",defaultMessage:"Confirm"}))),o.a.createElement(g.e,{onClick:function(e){e.preventDefault(),r()}},i({id:"login.page.emailAndPassword.emailForm.backButton",defaultMessage:"Back"})))},w=function(e){var a=e.variant,n=e.onSubmit,t=e.onSignUp,r=e.onForgotPassword,i=e.state.state,l=Object(p.useIntl)().formatMessage,d=Object(s.useRef)(null),m=Object(s.useRef)(null);return o.a.createElement(o.a.Fragment,null,o.a.createElement(g.d,{variant:a+".title"},l({id:"login.page.emailAndPassword.signInForm.title",defaultMessage:"Sign in with e-mail and password"})),o.a.createElement(g.d,{as:"form",onSubmit:function(e){var a,t,r,i;e.preventDefault(),n(null!==(a=null===(t=d.current)||void 0===t?void 0:t.value)&&void 0!==a?a:"",null!==(r=null===(i=m.current)||void 0===i?void 0:i.value)&&void 0!==r?r:"")},variant:a},o.a.createElement(g.m,{ref:d,type:"email",name:"email",id:"email",placeholder:l({id:"login.page.emailAndPassword.signInForm.emailPlaceholder",defaultMessage:"Eg: example@gmail.com"}),autoComplete:"username"}),o.a.createElement(g.m,{ref:m,type:"password",name:"password",id:"password",placeholder:l({id:"login.page.emailAndPassword.signInForm.password",defaultMessage:"Insert your password"}),autoComplete:"current-password"}),o.a.createElement(g.d,{variant:a+".forgotPassword",onClick:function(){return r()}},l({id:"login.page.emailAndPassword.signInForm.forgotPassword",defaultMessage:"Forgot my password"})),"signInForm.invalidEmailInput"===i&&o.a.createElement(g.a,{variant:"signInDanger"},l({id:"login.page.emailAndPassword.signInForm.invalidEmailInput",defaultMessage:"Sign in with a valid e-mail"})),"signInForm.invalidPasswordInput"===i&&o.a.createElement(g.a,{variant:"signInDanger"},l({id:"login.page.emailAndPassword.signInForm.invalidPasswordInput",defaultMessage:"Sign in with a valid password"})),"signInForm.authError"===i&&o.a.createElement(g.a,{variant:"signInDanger"},l({id:"login.page.emailAndPassword.signInForm.authError",defaultMessage:"Signing in failed. Please try again later"})),o.a.createElement(g.e,null,l({id:"login.page.emailAndPassword.signInForm.submitButton",defaultMessage:"Sign In"}))),o.a.createElement(g.d,{variant:a+".signup",onClick:function(){return t()}},l({id:"login.page.emailAndPassword.signInForm.signupButton",defaultMessage:"Don't have an account yet ? Sign Up"})))},f=function(e){var a=e.variant,n=e.onSubmit,t=e.onBack,r=e.state,i=r.state,l=r.email,d=Object(p.useIntl)().formatMessage,m=Object(s.useRef)(null),u=Object(s.useRef)(null),c=Object(s.useRef)(null);return o.a.createElement(o.a.Fragment,null,o.a.createElement(g.d,{variant:a+".title"},d({id:"login.page.emailAndPassword.signUpForm.title",defaultMessage:"Validate email and create new password"})),o.a.createElement(g.d,{variant:a+".subTitle"},d({id:"login.page.emailAndPassword.signUpForm.subTitle",defaultMessage:"Insert the code we sent to the email {email} and create a new password"},{email:l})),o.a.createElement(g.d,{as:"form",onSubmit:function(e){var a,t,r,i,s,o;e.preventDefault(),n(null!==(a=null===(t=m.current)||void 0===t?void 0:t.value)&&void 0!==a?a:"",null!==(r=null===(i=u.current)||void 0===i?void 0:i.value)&&void 0!==r?r:"",null!==(s=null===(o=c.current)||void 0===o?void 0:o.value)&&void 0!==s?s:"")},variant:a},o.a.createElement(g.m,{ref:m,type:"text",name:"code",id:"code",placeholder:d({id:"login.page.emailAndPassword.signUpForm.accessCodePlaceholder",defaultMessage:"Add your access code"})}),o.a.createElement(g.m,{ref:u,type:"password",name:"password",id:"password",placeholder:d({id:"login.page.emailAndPassword.signUpForm.passwordPlaceholder",defaultMessage:"Insert your password"}),autoComplete:"new-password"}),o.a.createElement(g.m,{ref:c,type:"password",name:"password",id:"confirm-password",placeholder:d({id:"login.page.emailAndPassword.signUpForm.confirmPasswordPlaceholder",defaultMessage:"Confirm your password"}),autoComplete:"new-password"}),"signUpForm.invalidAccessCodeInput"===i&&o.a.createElement(g.a,{variant:"signInDanger"},d({id:"login.page.emailAndPassword.signUpForm.invalidAccessCodeInput",defaultMessage:"Invalid access code"})),"signUpForm.invalidPassword"===i&&o.a.createElement(g.a,{variant:"signInDanger"},d({id:"login.page.emailAndPassword.signUpForm.invalidPassword",defaultMessage:"Invalid password. Your password needs to have at least eight digits, one lower case and one upper case letter, with at least one digit"})),"signUpForm.passwordDoNotMatch"===i&&o.a.createElement(g.a,{variant:"signInDanger"},d({id:"login.page.emailAndPassword.signUpForm.passwordDoNotMatch",defaultMessage:"Passwords do not match"})),"signUpForm.error"===i&&o.a.createElement(g.a,{variant:"signInDanger"},d({id:"login.page.emailAndPassword.signUpForm.error",defaultMessage:"Signing in failed. Please try again later"})),o.a.createElement(g.e,null,d({id:"login.page.emailAndPassword.signUpForm.submitButton",defaultMessage:"Create"}))),o.a.createElement(g.e,{onClick:function(e){e.preventDefault(),t()}},d({id:"login.page.emailAndPassword.signUpForm.backButton",defaultMessage:"Back"})))},F=function(e,a){var n;return a.type,{email:null!==(n=a.email)&&void 0!==n?n:e.email,state:a.type}};a.default=function(e){var a=e.variant,n=e.returnUrl,t=Object(s.useReducer)(F,{state:"signInForm"}),g=t[0],p=t[1],P=Object(m.a)(),I=Object(u.a)(),b="emailAndPassword."+a;return g.state.startsWith("emailForm")?o.a.createElement(v,{state:g,variant:b,onBack:function(){return p({type:"signInForm"})},onSubmit:function(){var e=Object(i.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(c.b)(a)||p({type:"emailForm.invalidEmailInput"}),e.prev=1,e.next=4,I({user:a});case 4:return e.next=6,Object(l.a)({email:a});case 6:p({type:"signUpForm",email:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),p({type:"emailForm.error"});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(a){return e.apply(this,arguments)}}()}):g.state.startsWith("signUpForm")?o.a.createElement(f,{state:g,variant:b,onBack:function(){return p({type:"signInForm"})},onSubmit:function(){var e=Object(i.a)(r.a.mark((function e(a,t,i){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(c.a)(a)||p({type:"signUpForm.invalidAccessCodeInput"}),Object(c.c)(t)||p({type:"signUpForm.invalidPassword"}),t!==i&&p({type:"signUpForm.passwordDoNotMatch"}),e.prev=3,e.next=6,Object(l.b)({login:g.email,newPassword:t,accesskey:a});case 6:P(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),p({type:"signUpForm.error"});case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(a,n,t){return e.apply(this,arguments)}}()}):o.a.createElement(w,{state:g,variant:b,onSubmit:function(){var e=Object(i.a)(r.a.mark((function e(a,t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(c.b)(a)||p({type:"signInForm.invalidEmailInput"}),Object(c.c)(t)||p({type:"signInForm.invalidPasswordInput"}),e.prev=2,e.next=5,I({user:a});case 5:return e.next=7,Object(d.a)({login:a,password:t});case 7:P(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),p({type:"signInForm.authError"});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(a,n){return e.apply(this,arguments)}}(),onForgotPassword:function(){return p({type:"emailForm"})},onSignUp:function(){return p({type:"emailForm"})}})}}}]);
//# sourceMappingURL=37-b665756948d8aee07415.js.map