"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.useSalesChannel = void 0;
const gatsby_1 = require("gatsby");
const usePersistedSearchParams_1 = require("../state/usePersistedSearchParams");
const key = 'sc';
exports.useSalesChannel = () => {
    const { allChannel: { edges }, } = gatsby_1.useStaticQuery(gatsby_1.graphql `
    query DefaultSalesChannelQuery {
      allChannel(
        filter: { targetProduct: { eq: "vtex-storefront" } }
        limit: 1
      ) {
        edges {
          node {
            salesChannel
          }
        }
      }
    }
  `);
    const defaultSalesChannel = edges[0].node.salesChannel;
    const [salesChannel, setSalesChannel] = usePersistedSearchParams_1.usePersistedSearchParams(defaultSalesChannel, key);
    return [Number(salesChannel), setSalesChannel];
};
