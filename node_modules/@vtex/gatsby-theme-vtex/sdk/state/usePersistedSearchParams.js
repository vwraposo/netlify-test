"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.usePersistedSearchParams = void 0;
const react_1 = require("react");
const env_1 = require("../../utils/env");
const useSearchParams_1 = require("./useSearchParams");
exports.usePersistedSearchParams = (valueDefault, key) => {
    var _a, _b;
    const [searchParams, setSearchParams] = useSearchParams_1.useSearchParams();
    const value = env_1.isServer
        ? valueDefault
        : (_b = (_a = searchParams.get(key)) !== null && _a !== void 0 ? _a : localStorage.getItem(key)) !== null && _b !== void 0 ? _b : valueDefault;
    react_1.useEffect(() => {
        localStorage.setItem(key, value);
    }, [value]);
    return [value, setSearchParams];
};
