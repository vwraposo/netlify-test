"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.query = exports.useRecommendationShelf = void 0;
const gatsby_plugin_graphql_1 = require("@vtex/gatsby-plugin-graphql");
const useQuery_1 = require("../graphql/useQuery");
const ProductRecommendationsQuery_graphql_1 = require("./__generated__/ProductRecommendationsQuery.graphql");
exports.useRecommendationShelf = (variables) => {
    var _a, _b;
    const { data } = useQuery_1.useQuery(Object.assign(Object.assign({}, ProductRecommendationsQuery_graphql_1.ProductRecommendationsQuery), { variables, suspense: true }));
    return {
        productRecommendations: (_b = (_a = data === null || data === void 0 ? void 0 : data.vtex) === null || _a === void 0 ? void 0 : _a.productRecommendations) !== null && _b !== void 0 ? _b : null,
    };
};
exports.query = gatsby_plugin_graphql_1.gql `
  query ProductRecommendationsQuery($value: ID!) {
    vtex {
      productRecommendations(
        identifier: { field: id, value: $value }
        type: viewAndBought
      ) {
        ...ProductSummary_product
      }
    }
  }
`;
