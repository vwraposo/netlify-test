"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.useLazyScript = void 0;
const useIdleEffect_1 = require("../useIdleEffect");
const registerScript = ({ id, src }) => {
    const maybeElement = document.getElementById(id);
    // Script already added to page
    if (maybeElement) {
        return;
    }
    const script = document.createElement('script');
    script.setAttribute('async', '');
    script.setAttribute('type', 'application/javascript');
    script.setAttribute('id', id);
    script.setAttribute('src', src);
    document.getElementsByTagName('head')[0].appendChild(script);
};
exports.useLazyScript = (options) => useIdleEffect_1.useIdleEffect(() => {
    var _a;
    const timeout = (_a = options.timeout) !== null && _a !== void 0 ? _a : 0;
    setTimeout(() => registerScript(options), timeout);
}, []);
