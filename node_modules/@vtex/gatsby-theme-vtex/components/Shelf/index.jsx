"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const react_1 = __importDefault(require("react"));
const store_ui_1 = require("@vtex/store-ui");
const ArrowLeft_1 = __importDefault(require("./ArrowLeft"));
const ArrowRight_1 = __importDefault(require("./ArrowRight"));
const Page_1 = __importDefault(require("./Page"));
const PaginationDots_1 = __importDefault(require("./PaginationDots"));
const Title_1 = __importDefault(require("./Title"));
const PAGE_SIZES = [1, 3, 5];
const Shelf = ({ products, title, variant = 'default', showArrows, showDots, autoplay, pageSizes = PAGE_SIZES, autoplayTimeout, }) => {
    const { page, items, totalPages, setPage, setNextPage, setPreviousPage, } = store_ui_1.useResponsiveSlider({
        pageSizes,
        defaultIndex: pageSizes.length - 1,
        allItems: products,
        autoplayTimeout,
        autoplay,
    });
    showArrows = showArrows && products.length >= Math.max(...pageSizes);
    return (<>
      {title && <Title_1.default variant={variant}>{title}</Title_1.default>}
      <store_ui_1.Flex>
        {showArrows && (<ArrowLeft_1.default variant={variant} onClick={() => setPreviousPage()}/>)}
        <Page_1.default variant={variant} items={items} pageSizes={pageSizes}/>
        {showArrows && (<ArrowRight_1.default variant={variant} onClick={() => setNextPage()}/>)}
      </store_ui_1.Flex>
      {showDots && (<PaginationDots_1.default variant={variant} onSelect={setPage} selectedPage={page} totalPages={totalPages}/>)}
    </>);
};
exports.default = Shelf;
