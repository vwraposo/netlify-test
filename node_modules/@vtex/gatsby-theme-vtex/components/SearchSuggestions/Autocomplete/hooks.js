"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.query = exports.useAutocompleteSearchSeggestions = void 0;
const gatsby_plugin_graphql_1 = require("@vtex/gatsby-plugin-graphql");
const useQuery_1 = require("../../../sdk/graphql/useQuery");
const hooks_1 = require("../base/hooks");
const AutocompleteSuggestionsQuery_graphql_1 = require("./__generated__/AutocompleteSuggestionsQuery.graphql");
exports.useAutocompleteSearchSeggestions = ({ term }) => {
    const context = hooks_1.useSearchSuggestionsContext();
    const query = useQuery_1.useQuery(Object.assign(Object.assign({}, AutocompleteSuggestionsQuery_graphql_1.AutocompleteSuggestionsQuery), { variables: {
            fullText: term,
        }, suspense: true }));
    return Object.assign({ query }, context);
};
exports.query = gatsby_plugin_graphql_1.gql `
  query AutocompleteSuggestionsQuery($fullText: String!) {
    vtex {
      autocompleteSearchSuggestions(fullText: $fullText) {
        searches {
          term
          key: term
        }
      }
    }
  }
`;
