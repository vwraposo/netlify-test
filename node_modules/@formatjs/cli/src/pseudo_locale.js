"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.generateENXA = exports.generateXXHA = exports.generateXXAC = exports.generateXXLS = void 0;
var tslib_1 = require("tslib");
var intl_messageformat_parser_1 = require("intl-messageformat-parser");
function generateXXLS(msg) {
    var ast = typeof msg === 'string' ? intl_messageformat_parser_1.parse(msg) : msg;
    var lastChunk = ast.pop();
    if (lastChunk && intl_messageformat_parser_1.isLiteralElement(lastChunk)) {
        lastChunk.value += 'SSSSSSSSSSSSSSSSSSSSSSSSS';
        return tslib_1.__spreadArrays(ast, [lastChunk]);
    }
    return tslib_1.__spreadArrays(ast, [{ type: intl_messageformat_parser_1.TYPE.literal, value: 'SSSSSSSSSSSSSSSSSSSSSSSSS' }]);
}
exports.generateXXLS = generateXXLS;
function generateXXAC(msg) {
    var ast = typeof msg === 'string' ? intl_messageformat_parser_1.parse(msg) : msg;
    ast.forEach(function (el) {
        if (intl_messageformat_parser_1.isLiteralElement(el)) {
            el.value = el.value.toUpperCase();
        }
        else if (intl_messageformat_parser_1.isPluralElement(el) || intl_messageformat_parser_1.isSelectElement(el)) {
            for (var _i = 0, _a = Object.values(el.options); _i < _a.length; _i++) {
                var opt = _a[_i];
                generateXXAC(opt.value);
            }
        }
    });
    return ast;
}
exports.generateXXAC = generateXXAC;
function generateXXHA(msg) {
    var ast = typeof msg === 'string' ? intl_messageformat_parser_1.parse(msg) : msg;
    var firstChunk = ast.shift();
    if (firstChunk && intl_messageformat_parser_1.isLiteralElement(firstChunk)) {
        firstChunk.value = '[javascript]' + firstChunk.value;
        return tslib_1.__spreadArrays([firstChunk], ast);
    }
    return tslib_1.__spreadArrays([{ type: intl_messageformat_parser_1.TYPE.literal, value: '[javascript]' }], ast);
}
exports.generateXXHA = generateXXHA;
var ASCII = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';
var ACCENTED_ASCII = 'âḃćḋèḟĝḫíĵǩĺṁńŏṗɋŕśṭůṿẘẋẏẓḀḂḈḊḔḞḠḢḬĴḴĻḾŊÕṔɊŔṠṮŨṼẄẌŸƵ';
function generateENXA(msg) {
    var ast = typeof msg === 'string' ? intl_messageformat_parser_1.parse(msg) : msg;
    ast.forEach(function (el) {
        if (intl_messageformat_parser_1.isLiteralElement(el)) {
            el.value = el.value
                .split('')
                .map(function (c) {
                var i = ASCII.indexOf(c);
                if (i < 0) {
                    return c;
                }
                return ACCENTED_ASCII[i];
            })
                .join('');
        }
        else if (intl_messageformat_parser_1.isPluralElement(el) || intl_messageformat_parser_1.isSelectElement(el)) {
            for (var _i = 0, _a = Object.values(el.options); _i < _a.length; _i++) {
                var opt = _a[_i];
                generateENXA(opt.value);
            }
        }
    });
    return ast;
}
exports.generateENXA = generateENXA;
