"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,n=require("react"),r=(e=n)&&"object"==typeof e&&"default"in e?e.default:e,t=require("theme-ui");function i(){return(i=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e}).apply(this,arguments)}function o(e){var o=e.children,c=e.renderIcon,a=e.mode,u=void 0===a?"singleOpen":a,l=e.variant,s=void 0===l?"vtex-components":l,p=n.useState((function(){return n.Children.map(o,(function(e){return!!e.props.isActive}))})),v=p[0],f=p[1],d=s+".accordion",m=n.useCallback((function(e){f((function(n){return n.map((function(n,r){return r===e?!n:"singleOpen"!==u&&n}))}))}),[u]);n.useEffect((function(){var e=n.Children.map(o,(function(e){return!!e.props.isActive}));f(e)}),[o]),n.useEffect((function(){var e;"singleOpen"===u&&n.Children.forEach(o,(e=!1,function(n){if(e&&n.props.isActive)throw new Error("Cannot use multiple active Sections in singleOpen mode. Maybe try using multiOpen mode or passing isActive to a single section ?");n.props.isActive&&(e=!0)}))}),[o,u]);var h=n.Children.map(o,(function(e,n){var t,o,a=i({},e.props,{isActive:v[n],onClick:function(){return function(e,n){m(e),null==n||n(e)}(n,e.props.onClick)},renderIcon:null!==(t=e.props.renderIcon)&&void 0!==t?t:c,variant:null!==(o=e.props.variant)&&void 0!==o?o:d});return r.cloneElement(e,a)}));return r.createElement(t.Box,{variant:d},h)}o.Section=function(e){var n=e.id,i=e.header,o=e.children,c=e.isActive,a=void 0!==c&&c,u=e.onClick,l=e.renderIcon,s=e.variant,p=(void 0===s?"vtex-components":s)+".collapsible",v=null==l?void 0:l(a);return r.createElement(t.Box,{variant:p},r.createElement(t.Flex,{variant:p+".header",onClick:function(){null==u||u(null!=n?n:"")}},i,v),a&&o)},exports.default=o;
//# sourceMappingURL=accordion.cjs.production.min.js.map
